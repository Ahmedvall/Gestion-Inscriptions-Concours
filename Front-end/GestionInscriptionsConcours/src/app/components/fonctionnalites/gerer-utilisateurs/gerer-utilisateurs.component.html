<app-header></app-header>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <br>
            <div class="row">
                <div class="col-md-11">
                    <button class="btn btn-secondary float-right" routerLink="/ajouterUtilisateur">Ajouter Compte</button>
                    <div class="form-group float-left" style="margin-top: 20px; margin-right: 200px;">
                            <select (ngModelChange)="functionSelectEvent($event)" class="form-control" [(ngModel)]="ad"  placeholder="type utilisateur">
                                <option value="prof">Enseignants</option>
                                <option value="admin">Responsables</option>
                            </select>
                    </div>
                    <br>

                    <div class="form-inline d-flex justify-content-center md-form form-sm mt-0 " style="width: 30% !important;">
                        <i class="fas fa-search" aria-hidden="true"></i>
                        <input class="form-control form-control-sm ml-3 w-75" type = "text" [(ngModel)]= "searchTxt" placeholder="Chercher par mot clÃ©"  /> 
                    </div>

                    
                </div>
            </div>
            <div style="height:700px;overflow:auto;">       
                <table class="table table-striped"
                style="table-layout: fixed; word-wrap: break-word;">
                        <thead>
                            <tr>
                                <th style="width: 15%">Nom</th>
                                <th style="width: 15%">Prenom</th>
                                <th style="width: 15%">Tel</th>
                                <th style="width: 25%">Email</th>
                                <th style="width: 15%">Role</th>
                                <th style="width: 15%">Action</th>
                                        
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let u of utilisateurs |filter:(searchTxt)   | paginate : {itemsPerPage:7,currentPage:p} ">
                                <td style="width: 15%">{{u.nom}}</td>
                                <td style="width: 15%">{{u.prenom}}</td>
                                <td style="width: 15%"> {{u.numTel}} </td>
                                <td style="width: 25%">{{u.mail}}</td>
                                <td style="width: 25%">{{u.role.nomRole}}</td>                    
                                <td style="width: 15%">
                                    <a class="float-left" ><i title="Editer" style="cursor: pointer;" class="fas fa-edit"></i></a>  
                                </td>
                            </tr>
                        </tbody>
                </table>
                <pagination-controls *ngIf="utilisateurs.length > 7" (pageChange)="p=$event"></pagination-controls>
            </div>
        </div>
    </div>
</div>