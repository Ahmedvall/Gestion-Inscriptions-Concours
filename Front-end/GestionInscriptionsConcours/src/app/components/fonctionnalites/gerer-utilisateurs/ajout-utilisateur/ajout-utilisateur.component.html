<app-header></app-header>

<div class="container" style="margin-top: 50px;">
    <div class="padding-left-30px">
        <h4>Ajouter Un Compte :</h4>
        <hr>
        <form [formGroup]="ajoutCompteForm" (ngSubmit)="onSubmit()">
                <div class="row">
                    <div class="col-md-5 field">
                        <div class="form-group control">

                            <label><i class="far fa-user" style="margin-right: 10px;"></i>Nom: </label>
                            <input type="text" formControlName="nom" class="form-control"  placeholder="entrez le nom"
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.nom.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.nom.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.nom.errors.required">Nom est obligatoire !</div>
                            </div>

                        </div>
                    </div>

                    <div class="col-md-5 field">
                        <div class="form-group control">

                            <label><i class="far fa-user" style="margin-right: 10px;"></i>Prenom: </label>
                            <input type="text" formControlName="prenom" class="form-control"  placeholder="entrez le prenom"
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.prenom.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.prenom.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.prenom.errors.required">Nom est obligatoire !</div>
                            </div>

                        </div>
                    </div>
                    
                </div>

                <div class="row">
                    <div class="col-md-5 field">
                        <div class="form-group">
                            <label><i class="far fa-envelope-open" style="margin-right: 10px;"></i>Email: </label>

                            <input class="form-control form-control-sm" type="email" formControlName="mail" required
                                class="form-control" placeholder="entrez votre email"
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.mail.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.mail.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.mail.errors.required">Email est obligatoire !</div>
                                <div *ngIf=" ajoutCompteFormControls.mail.errors.email">Entrer un Email Correcte</div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-5 field">
                        <div class="form-group control">

                            <label><i class="fa fa-phone" style="margin-right: 10px;" aria-hidden="true"></i>Tel: </label>
                            <input type="text" formControlName="numTel" class="form-control"  placeholder="entrez le NÂ° Tel: "
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.numTel.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.numTel.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.numTel.errors.required">Nom est obligatoire !</div>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-5 field">
                        <div class="form-group control">

                            <label><i class="fa fa-birthday-cake" aria-hidden="true" style="margin-right: 10px;"></i>Date Naissance: </label>
                            <input type="date" formControlName="date" class="form-control"  placeholder="entrez la date de Naissance: "
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.date.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.date.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.date.errors.required">date naissance est obligatoire !</div>
                            </div>

                        </div>
                    </div>

                    <div class="col-md-5 field">
                        <div class="form-group control">
                            <label><i class="far fa-user" style="margin-right: 10px;"></i>Profile : </label>
                            <select class="form-control" placeholder="profil" formControlName="profil">
                                <option value="prof" selected>Enseignants</option>
                                <option value="admin">Responsables</option>
                            </select>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-5 field">
                        <div class="form-group control">
                            <label><i class="far fa-user" style="margin-right: 10px;"></i>Mot de passe :</label>
                            <input type="password" formControlName="pwd1" class="form-control"  placeholder="Entrez le mot de passe: "
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.pwd1.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.pwd1.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.pwd1.errors.required">Obligatoire !</div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-5 field">
                        <div class="form-group control">
                            <label><i class="far fa-user" style="margin-right: 10px;"></i>Confirmer Mot de passe :</label>
                            <input type="password" formControlName="pwd2" class="form-control"  placeholder="Confirmer le mot de passe: "
                                [ngClass]="{ 'is-invalid': submitted && ajoutCompteFormControls.pwd2.errors }" />
                            <div *ngIf="submitted && ajoutCompteFormControls.pwd2.errors" class="invalid-feedback">
                                <div *ngIf="ajoutCompteFormControls.pwd2.errors.required">Obligatoire !</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row" *ngIf="!pwdsAreSame() && !ajoutCompteFormControls.pwd1.errors && !ajoutCompteFormControls.pwd2.errors">
                    <h3 style="color: red; margin-left: 20px;">ATT: <small>Les mots de passe doivent etre similaires</small></h3>
                </div>

                <div class="row float-right" style="margin-top: 20px;">
                    <button style="margin-right: 20px;" (click)="viderForm = true;" class="btn btn-secondary">Vider les Champs</button>
                    <button style="margin-right: 200px;" type="submit" (click)="submitted = true;" class="btn btn-success">Enregistrer</button>
                </div>

            </form>
    </div>           

</div>

